language: ruby
gemfile:
- gemfiles/travis.gemfile
rvm:
- 1.9.3
before_install:
- echo -n $EC2_KEY_CHUNK_{0..32} >> ~/.ssh/id_ec2.base64
- cat ~/.ssh/id_ec2.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_ec2.pem
env:
  global:
  - secure: kWvRKWqh7wocdMbsq1jcg0zAtCELdt+8LLMIcEi+rUXdyy0wDLEo+VrdD3+vneVecloMg9wle44umM6xLPiUV7CJWhIIl9ccc/QlAJ35EoTyHWDirmKHfSOB0EoqV5dzjskEkWA8zBz8ErMy9LWj02Y3LFljwlx9yoP0MbxX/8o=
  - secure: eeegc3uNzIdCdkZQOK+8sxzJrsbc3TrR/urZqrNdh54M0/uL5/k0+P5prlxfga8JNkIw2xspHwZxEfy1Tp3hPgne6wsrKRAstYvX+lWoIXNjAcK/I5r84mi2uB6vfPXxl/2ICaXoEKwn8frP8g2wgqWQ7IT18hyGp8r4QwxDHnA=
  - secure: g6+H8UHuikbtim2SiKEFw0tfxaWph84ARKh5rok/JoxMHCa52qaq5lnkN6MlDdpR/Lm/mnyRFinisay6KNh723GcaJJM9Ktsc/zH5LuT1+fg+G2WmvuopQ+agCb7Co4TYAc4eBNR3S9hcfe+RIRZnVFRzODkeTH2/Phn7edgJ3o=
  - secure: kXWHeH7aXDIGA98Idv17vP/TNv8At4YOSBRKgCHf09uXBM44S3whqLEyE1opIHYZzu0OoarJZOpofiIAXgMH/iYoV8fizE2zBRxABT+e/5oPhYwccZ90hTfCuk5Xrb+i12gRVcEwQfrPbVU3PnBM1Ov0Bh4k1IKgce4uiJBy7+w=
  - secure: VrKbnNTSw+wb7cYY/Yeu8+wNA7hDO+1ahBh4hkqWldmTnkn/W5cQy4zX6ksOxagwS9q0n7IRePvt6mqhlpTLih5Oa1XJZ7FLPpK0WsN8FyEeKpXFbsG4+Wkt2I0tPZjz31A62deWrM1Ysz+lOeBfMdu5WSUm5f2IWUtOGZdn5fE=
  - secure: xtsxUA4zwhfdVPMGUN1PklggFHQVSQSmMRNagIdcDW4al5CkzegCmZFYmf4zkR3spm861XrQd9cJJx1ziQnCtPeUPWp9Uz9QR/VwyTkTX9LIB/aiHaIfpr92hehxnslgAY6tqBZ8FMx8AzCW8BUKXchhUpofaVxGv69/9ytUxxU=
  - secure: IwHo/DTYfOQQCKAeyPRT/Y/XaU+qu73fXNv0mPNaHOBXMr1a0/iNGm4MRFTPxd94jjuk1QyCMLwKsq/6GwhlPKzqBbzkqxUx05g2AT4/yKuPk4zT6ibFSl1iuuyOg3nO6U9sqaXlg17afUxYOkVdul+EsnCM50GcRQinV8MY6iI=
  - secure: lRMIeyJ9T0n1QP/XpZ13Uof2UyLuEqAcJ+IkwyrhwhiQm7WkBN4ABKly+OzRSuTNHSny9InIMezWyAzv7s4elmyxE3T/jUybCNQjSVvDf3SQCxtQeMKWlQ0FiYuZ0V7MHm4bW/gABMTU7CSfUaRMik1wWWYPbEkYH/koscVcr6g=
  - secure: RfscgJ0E/GsmtDiszOH6H7ugFrflqIfHiNvezubLaqXMOl+zlmYTWRALrJNcOJ/uRh+jCjsnKFkYBivdbHs2+BvrDHH4sKUivzjrSU1tBODOZ0T9xtg5G9s46Kn2GISJ6CQ1dWb/8SPS47fee+/pN/Q6xeFAQ2EtqTkJzt51/uM=
  - secure: k7OSJP8MZDo+3x6HJ2GAXBoyxH7nBvO9zyLDRTAoPl1KA1l3Cs5N046+EjluW/ES1ZC5sWrvrrB087C5+sASbzvsE53DIAolqJhmQs1NP22tsP4xd+L4H174xrkT1oGol4RI5JGSUkSQCC2lVtjISEhYcZin7msftqCK4co0lHk=
  - secure: QX8zulUXwqsMjHrpQZ/iM1XiUhmBbO5EFqf5ziBq2pSwEMvJUPUpY5ricvdK9gYVS7UriIzdFXO9rh7HUVBi2rWgGu+tjYja5HfK847KXvdo9bi9H3YymuvNV5J/k1tMcSuEmHfDt1pdPCjACZJnA/L69JJe5h1azD3K9JeZGlM=
  - secure: Khc9oa963NU6tfqMoVWuSraom/WUmMiAvHtbR9V6lzPnJ1yPKhduBdzJeUpwaDqrELTOCBYQ/BOqBTdukZhbk9SPSNly0hl7bhlVfR1yOHtOfPn8t+PEkJ7mGZdJLZcza1dd2ikH6rONE0hzJq5Il5WddnJ6jkGi2gnFK33s81k=
  - secure: WcEct6dJTqn4QLuf1GFj+YainokYebPoO1RlONfaz7khCl3qsj9KzLantSJIrJYysxERFMRLZDVnu2pPAeQ2TXqw/2C3eCgvANCXMrhJH2qyE0kf+RY02cufSiWZOz+AeDPBXlnMoF6uOLGmiZqf9+9KcUpj3U4fA333JDfRnck=
  - secure: aFKwVsPVNpGXoIz8aX+ka8hCc5YP8GX3ZVM/crqxGwW3f6Fvxnkr1RAEwAeIYfIIGiBK3ZO5e0svRYgczhJEUOKjyLi3cqx8HaP/PDVamKuKsJoAtf787GRnPZmrukELfBVGwJh8mhO0UrKYa3ycEJRKN0B0oTW03ETRm6SRgys=
  - secure: 05c7F8QEbrSxQtQKg152FD5axdc0kPLd7BMoJfKGADAP62mZLnEZH+zChAFc2Qccsbw6uiK9JkwHVLIMuAex75ggIYdmGucIeMnQ6zNvxB90dhn1jwzTVM/u5aEa2nT+B2qY3frtWnZTGnf+IdoIbJBMSOQy45Gc8hQdhnQpzKc=
  - secure: PI+89LJT3RUffGkUWMtfHVyRC31/7xIA1slZRqYWIHSM9QJAcACmwQWYi0/Jva9zZTrc/UXaVn5ZAa+xlVcg5ooi1OwsTFQMyunrWVPxFd28ZeYwA+9AcMKgYMh2stbGZfhtgUeKK26rV6Q+jwJTtxYobVtOTE2QEzH9IbHNjOs=
  - secure: LTDvWDTcp1I7N+yA/KCTp6lfprl9/fJZ9qS0UBPzLhuANp9fUxrY3HYmf1N7bLFnTIjb3oQE7URIV1yqm+19V53g4EmQjRcNsN83buEhCpSvbP16003vNhTxZwYg/wHTyopGtpQ0GbZcXYNOnju7qmwjekl4yq+JbFc1RheZ7kg=
  - secure: uvD0J6/OWBVizJtsjnnN4GYtSvAJzbngrcIo2dhNYbkXYld5Gegb9pskA7W4c3mztP1m4RS6QK2K6uhU7hSSBJSEZTsF1g1vedv7P08tDCV89UTHW0OzH2IDD37P7USJ5q2t81VNaoZQVfJTju294svh3gaW6660RORLw4OrDcQ=
  - secure: 3XDLf2fTyIP2ZZJdhpo5OhVapMYgCyL8dQVaqaqtMpgao66ptpi7VhP7xO+WZc5hCU4X0cqaOvBbAGIMTDdl4h/w5ZtsPfjhhAba4dTtPDjlVvCt4C1AqzbBykAq3T9UuKH/4l/t/x1HN/fq0iZU+WJ8l/XdNqoNMAp8qaNkumE=
  - secure: m44v7wByQnnlTe2wSaK5gceTijIyk+nJ3Coz6fTEP/dldRV6WTcZY/DibIsIaeGQzDtN3+0RZOMt1HAOjAWPYXttx4e9P0Scw5V7gFgK9grLKRAWp60MFgbSvBkxNN3nvasdCSyFFxxV1/SaTnqf8pGGZaRQYbrQ1Zb4NRyvixE=
  - secure: sus80+jpAKs3tQz8lY3KCR5OjsNzXYZ7oKnZb2ApwZnGnrF3T0Uht7cie9aTcQmbx2/Q/EST9IKxi15lN6BDQ6yCoRlHY85MmKqmmvmqfDKWQrJbDjWX2AONyVvNNb3Ia/QzZB6vM+juwkf3zf4ncVcXmWaodTcWv8pTTH/ddCA=
  - secure: g9CL7Fq/jzGvBF6174XBliDZdncQ4+hLmIbp9l9x/lCKFcQx394CBBFoRTUjtFOk7hBifOxRah8aXbQi0ac7TxpqUBsjZ02IS1oKQGzKvTQ2dOtdgGHURGGeeKy5YYnLHtrtwj/Jlax5DbrRA+5GyRWxDlZSu4IHacnVIpaOE7U=
  - secure: 4TTNCajGK0yeTg474mKgvtGIUM2ummi4XKGqDIhdEpCxzvgLIlNYOmoCjaRW5Z5DCL6krDFiaEBbNz4PSV9bDRFW0rsXU7m2X4d3z0NEWxQxTlMpml+Gkxp4wiR+qEBeZWyyQgB1GvP+ET+9LCSUmaFg57cYDP35ngRdm4jEH+A=
  - secure: g36qDwm3jWItx1WtaQ7ebxKW4UoVtDUqVrGUT3EhGg2Nz+3W4GH6D2w5es67SOkZHcjV8YbJG44p4qOSvOd6TbP2H4gw++LBA+MkxTJACDjTbeLl3f3rWetRr6zarmyW7nCddvgkE6j00oIq71wJPwywl1t/YS2jPvJaE7pXzpE=
  - secure: U1yMbVPm4pijv7MNKKf/R/bYnrzr4MaC8ZqdkN7kmE8a7GacbhnD+0TYd2wesIqF751WA6zUEIKpfAZ2A2ixx5rI8A8CuYytsorYZUNWV1b8qRMmFPU+C+L7xYP/jvWwkPDBXFDg+Pj+/6wB4DLXcKduAvH9qBrr54joZWynQp8=
  - secure: bRyBi4XIbvJkwxKo7r56TKJ+vwlJWpu0kkP66uDQUjOCDEhVY9D2k1+KW/J6Prv8VyarBZ/wIaHYNYbG8cLHaNuHk36k2D06+NzSGXDF8PpiaRzFIUDZ78S90ayuxUBqeDKBOp/zmsm64QSlmrCzbMhSmDak5j3wxSATG2z5D+s=
  - secure: eJEcIeX8J0okmZXVx25MU7/ZixnB7MQ6B+9wqKmXNA7Hyh9zYlbEzsxxV/IA/5yFK08gyqieDwhS5BD8ExJ1jG3uzZIP5wmeFwsvMnz+pe7tHoLTwIGP1FELRd0Hf3h0cZywuvDUCHfSre8R7fTyJEzOExaXyQHn7d7PokI7ugo=
  - secure: P3EWaJ/konTJRL3ZlfLUWNG5B0u7jhky9t5bLrDAdWjn66vpNFst/uWN48+tBS/wvag/EIvqQSj7SqElnJJy2iJ3T6Tqb57ptgGNe4HGSqUWtLquorarYK72mO8Sn/mKuFRodzla1P1CVqCl3V0XrUaw+BUtePmjLPYk/zRLQME=
  - secure: RAHfNTRt4rUQ7Vbb02aGED9Mlie2WEVUOoPvUPufO7Xlb5tnAmsMAIySLXw/sUqkay1IeKEbEPNHarx2gQQI6X2JddMz8VRZgfZ8CESmEQKy0zg/iwa1hV7ZoSRDikrruI6aEmIjv5NPtAwuNeUW8n+SeKPaVw4jZxDqP+waYdk=
  - secure: vlGMcbEXzcCpDbise8eXIXyBtDjSQlQqqU6QtP/oKNaQZ2wU3ljTdNsoSBfdS/pnuntH8DPpKyfFI8illRQ+97lmCAmdkwX0W6tBPaZoTdK9o7xjRA9h+6sUrnX63uEP56PmPk8yHDDLrn0Sv4SvPQt1DzBSS8zh8TOAVxHnuCg=
  - secure: ZDpg+tz8Q1w4ZWI7aHF60Z80W7TdULWq77uEpxqFMzFNtfso6zbqFmJW8pCDBkhadM6XFWRzD91hETpaqCCn6mzELkJG/XtDaQ780Ta7qA51DO+0EGP34fwTmOcd2501K8NFrS/HdoG9fXX4pNNEKt08M4lqFx8u4Fai6imcoo0=
  - secure: M8fJIY9ezhEe2nSXS4sqZ2NRE5V4bMF5gc8ymEUSfYsQy9iKhS3eCA0VgGCJsB+Nir8iG4tVjj/u04TjRNgTPVd/danniYaj8i7chDSvq8+EeM0DKgS9RuOQF01Q+M94zYFM2KBhfFZwV/Fw53vd1vDFeKwrdO65r3xNDjt/Nt8=
  - secure: xmnYrL84AVCwlPyPsAu8SSykVa9rIokwes26GwhPkpdBfTk05wjgOgnbLz7bsqmoaofJdsQxXNqNgnnbgt7mePRxK/DSx1zQoNdHMsfuKqf7/FJPZrTSJ7+/smoXluma3NZ9QSuPqxkv0z/KwHZM32W0mqiCfor5t9fcQPsYgSk=
  - secure: lmBzuTbkSL5GLXgFNUbOqqSNc1nOf0mps14HFCCN5RqE42j2fVC4R5XIVvcSxZRfofhuEzMW6JIvtyuH4GkSF+XJhnxMVnhxwS6kF2hZXjrQ8as+6cbW5/5bUxCO3oxnhLBFLph4Ln7q+CrxPfmV++EgrgbE5S6IwrflR41mlg4=
  - secure: WTH1Ow7B1G6vdf7cuMJS6gH+RQSVBjYRSa646fKrwywCCS4v6yQBtGvQoHWCjwZ/asgXR1Sg4eDzv2gcv7OTgULrexlk7ja5xTGcb14LkJqKUVGCO/EK1l1l6g9HSTj4VsF1ubWU5NMjkozeAxNW29Pglrsh+w8cErZ1wLrVprE=
  - secure: oDFv5f9IBEGO00XGF4KRWAfKpQw8wVgqMpQAHv1Cxn/58KGDRqiZTkg2yoqgLCIiM8sn7Kh4inerjOeYekeuQQxIfmilJ2LmB8VuF2kLEZF/Lt+24YKbC0wNglQvrowMyyZgsMsYM6fbgLH3kX1KLopmZPGGzMFaM9Ztegs7ZaY=
  - secure: tXs7L0LPeCYM4R8aGYtKZU3CnwO2FobOTN0vgyLPp16euU6RSC8uDb7tk/QLlRXCcftopCT7fvd7c8Rl979t+J/ouhImjoUphNa2SxeK65HIG6hTGLKS9dHTERMwF1BN9nzK19nBhVJizpT9oOBVBs2GbCCWuoZUNnBUfw5R0iA=
  matrix:
  - KITCHEN_INSTANCE='default-ubuntu-1204'
  - KITCHEN_INSTANCE='default-ubuntu-1004'
  - KITCHEN_INSTANCE='default-centos-64'
  - KITCHEN_INSTANCE='default-centos-53'
script:
- bundle exec foodcritic ./ -f 'any'
- bundle exec kitchen test $KITCHEN_INSTANCE -l debug
after_script:
- bundle exec kitchen destroy $KITCHEN_INSTANCE
notifications:
  email:
  - abutovich@qubell.com
